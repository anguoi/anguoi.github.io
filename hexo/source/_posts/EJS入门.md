---
title: EJS入门
date: 2019-02-02 10:19:19
tags:
excerpt: Hexo主题可基于EJS开发，该文档记录常用指令等，方便使用
photos:
---
>Hexo主题可基于EJS开发，该文档记录常用指令等，方便使用。
>"E" 代表 "effective"，即【高效】。EJS 是一套简单的模板语言，帮你利用普通的 JavaScript 代码生成 HTML 页面。EJS 没有如何组织内容的教条；也没有再造一套迭代和控制流语法；有的只是普通的 JavaScript 代码而已。

## 环境配置
因为Hexo自带的有`hexo-renderer-ejs`故无需配置环境。

若在其他地方使用需要在npm下配置
```
$ npm install ejs
```
## 参数
- `cache` 缓存编译后的函数，需要提供 filename
- `filename` 被 cache 参数用做键值，同时也用于 include 语句
- `context` 函数执行时的上下文环境
- `compileDebug` 当为 false 时不编译调试语句
- `client` 返回独立的编译后的函数
- `delimiter` 放在角括号中的字符，用于标记标签的开与闭
- `debug` 将生成的函数体输出
- `_with` 是否使用 with() {} 结构。如果为 false，所有局部数据将存储在 locals 对象上。
- `localsName` 如果不使用 with ，localsName 将作为存储局部变量的对象的名称。默认名称是 locals
- `rmWhitespace` 删除所有可安全删除的空白字符，包括开始与结尾处的空格。对于所有标签来说，它提供了一个更安全版本的 -%> (在一行的中间并不会剔除标签后面的换行符)。
- `escape` 为 <%= 结构设置对应的转义（escape）函数。它被用于输出结果以及在生成的客户端函数中通过 .toString() 输出。(默认转义 XML)。

## 标签含义
- `<%` '脚本' 标签，用于流程控制，无输出。
- `<%_` 删除其前面的空格符
- `<%=` 输出数据到模板（输出是转义 HTML 标签）
- `<%-` 输出非转义的数据到模板
- `<%#` 注释标签，不执行、不输出内容
- `<%%` 输出字符串 '<%'
- `%>` 一般结束标签
- `-%>` 删除紧随其后的换行符
- `_%>` 将结束标签后面的空格符删除